(function(t){function e(e){for(var n,i,c=e[0],o=e[1],u=e[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,c=1;c<r.length;c++){var o=r[c];0!==a[o]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={app:0},s=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/Spotify-Distance/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"196f":function(t,e,r){"use strict";r("299b")},"299b":function(t,e,r){},5661:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),a={id:"app",class:"container-fluid text-center"},s=Object(n["g"])("div",{class:"jumbotron"},[Object(n["g"])("h1",null,"The Spotify Distance"),Object(n["g"])("p",null,"There are over 25 million different artists on Spotify, and on average each artist colaborates with 3.51 other artists. So how many collaborations would it get from Snoop Dogg to Celine Dion?"),Object(n["g"])("p",null,[Object(n["f"])("Find two artists' "),Object(n["g"])("strong",null,"SPOTIFY DISTANCE"),Object(n["f"])(", AKA the degrees of separation between them. ")])],-1),i={key:0,class:"content"},c={key:1},o=Object(n["e"])('<footer class="footer"><div class="container-fluid"><div class="row"><div class="col-12"><p class="m-0 text-center text-white">Copyright Â© Trevor Holt 2021 | Inspired by <a class="text-white" href="http://sixdegreesofkanyewest.com/">Six Degrees of Kanye West</a></p></div></div></div></footer>',1);function u(t,e,r,u,l,d){var p=Object(n["l"])("Search"),h=Object(n["l"])("Result");return Object(n["h"])(),Object(n["c"])("div",a,[s,l.isSearching?(Object(n["h"])(),Object(n["c"])("div",i,[Object(n["g"])(p,{onToggleSearch:d.toggleSearch,onResults:d.getResults},null,8,["onToggleSearch","onResults"])])):(Object(n["h"])(),Object(n["c"])("div",c,[Object(n["g"])(h,{onToggleSearch:d.toggleSearch,results:this.results},null,8,["onToggleSearch","results"])])),o])}r("ac1f"),r("841c");var l={class:"text-center"},d={class:"autocomplete col-6 form-group"},p={class:"artist-pic-wrapper transform",id:"src-artist-wrapper"},h=Object(n["g"])("input",{id:"artist1",class:"form-control",placeholder:"Artist 1"},null,-1),f=Object(n["g"])("div",{class:"autocomplete-items"},null,-1),m={class:"autocomplete col-6 form-group"},g={class:"artist-pic-wrapper transform",id:"dst-artist-wrapper"},b=Object(n["g"])("input",{id:"artist2",class:"form-control",placeholder:"Artist 2"},null,-1),y=Object(n["g"])("div",{class:"autocomplete-items"},null,-1),v=Object(n["g"])("div",{class:"col-12"},[Object(n["g"])("button",{class:"btn btn-danger",type:"submit",style:{display:"inline"},id:"searchButton"},"Calculate Spotify Distance"),Object(n["g"])("p",{id:"artistCount",style:{display:"none"}},[Object(n["f"])("Searching Spotify... "),Object(n["g"])("span"),Object(n["f"])(" (If there's a path we'll find it!)")]),Object(n["g"])("div",{class:"spinner-border spinner-border-sm text-light",id:"searchSpinner",role:"status",style:{"margin-left":"5px","margin-top":"10px",display:"none"}},[Object(n["g"])("span",{class:"sr-only"},"Loading...")])],-1);function j(t,e,r,a,s,i){return Object(n["h"])(),Object(n["c"])("div",l,[Object(n["g"])("form",{class:"row",autocomplete:"off",onSubmit:e[1]||(e[1]=Object(n["n"])((function(){return i.search&&i.search.apply(i,arguments)}),["prevent"]))},[Object(n["g"])("div",d,[Object(n["g"])("div",p,[Object(n["g"])("img",{src:i.artistPicture(0),alt:"...",class:"blank-pic"},null,8,["src"]),Object(n["g"])("img",{src:i.artistPicture(0),alt:"...",class:"artist-pic hidden"},null,8,["src"])]),h,f]),Object(n["g"])("div",m,[Object(n["g"])("div",g,[Object(n["g"])("img",{src:i.artistPicture(1),alt:"...",class:"blank-pic"},null,8,["src"]),Object(n["g"])("img",{src:i.artistPicture(1),alt:"...",class:"artist-pic hidden"},null,8,["src"])]),b,y]),v],32)])}r("4160"),r("159b"),r("96cf");var O=r("1da1"),I=r("5a6c"),k=r.n(I),w=r("612d"),x={name:"Search",data:function(){return{token:null,queryArtists:[null,null],timeout:null,blankAvatar:r("a163")}},methods:{artistPicture:function(t){return Object(w["getOr"])(this.blankAvatar,"artistPicture.url",this.queryArtists[t])},search:function(){this.queryArtists[0]&&this.queryArtists[1]&&this.queryArtists[0].artistId!==this.queryArtists[1].artistId&&(document.getElementById("src-artist-wrapper").classList.toggle("transformLeft-active"),document.getElementById("dst-artist-wrapper").classList.toggle("transformRight-active"),document.getElementById("searchSpinner").style.display="inline-block",document.getElementById("searchButton").style.display="none",document.getElementById("artistCount").style.display="inline",document.getElementById("artist1").disabled=!0,document.getElementById("artist2").disabled=!0,this.computePath())},computePath:function(){var t=this;k.a.BDS(this.queryArtists[0],this.queryArtists[1],this.token).then(function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:setTimeout(Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.getElementById("searchSpinner").style.display="none",t.$emit("toggle-search",!1),e.t0=t,e.next=5,t.parseResult(r);case 5:e.t1=e.sent,e.t0.$emit.call(e.t0,"results",e.t1);case 7:case"end":return e.stop()}}),e)}))),2e3);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},parseResult:function(t){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var n,a,s,i,c,o,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=function(t){var e=t.artistId,r=t.artistName,n=t.artistPicture;return{artistId:e,artistName:r,artistPicture:n}},c=function(t){var e=t.songId,r=t.songName;return{songId:e,songName:r}},t){r.next=15;break}return r.t0=i,r.next=6,k.a.getArtist(e.queryArtists[0].artistId,e.token);case 6:return r.t1=r.sent,n=(0,r.t0)(r.t1),r.t2=i,r.next=11,k.a.getArtist(e.queryArtists[1].artistId,e.token);case 11:return r.t3=r.sent,a=(0,r.t2)(r.t3),s=null,r.abrupt("return",[{srcArtist:n,dstArtist:a,song:s}]);case 15:o=[],u=0;case 17:if(!(u<t.length-2)){r.next=33;break}return r.t4=i,r.next=21,k.a.getArtist(t[u].artistId,e.token);case 21:return r.t5=r.sent,n=(0,r.t4)(r.t5),r.t6=i,r.next=26,k.a.getArtist(t[u+1].artistId,e.token);case 26:r.t7=r.sent,a=(0,r.t6)(r.t7),s=c(t[u+1]),o.push({srcArtist:n,dstArtist:a,song:s});case 30:u++,r.next=17;break;case 33:return r.abrupt("return",o);case 34:case"end":return r.stop()}}),r)})))()},autocomplete:function(t,e){var r=this,n=-1;function a(t){for(var e=t.parentNode.getElementsByClassName("autocomplete-items")[0],r=e.children.length,n=0;n<r;n++){var a=e.children[0];e.removeChild(a)}}function s(t){t.forEach((function(t){t.classList.remove("autocomplete-active")}))}function i(t){s(t),n<0&&(n=t.length-1),n>=t.length&&(n=0),t[n].classList.add("autocomplete-active")}t.addEventListener("input",(function(){r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout((function(){a(t);var n=t.value;n.length>=1&&k.a.searchArtist(n,r.token).then((function(n){n.forEach((function(n){var s=document.createElement("div");s.innerHTML=n.artistName,s.addEventListener("click",(function(){t.value=n.artistName,r.queryArtists[e]=n,document.getElementsByClassName("blank-pic")[e].classList.toggle("hidden"),document.getElementsByClassName("artist-pic")[e].classList.toggle("hidden"),a(t)})),document.getElementsByClassName("autocomplete-items")[e].appendChild(s)}))}))}),500)})),t.addEventListener("keydown",(function(e){var r=t.parentNode.getElementsByClassName("autocomplete-items")[0];r&&(r=r.getElementsByTagName("div")),40==e.keyCode&&(n++,i(r)),38==e.keyCode&&(n--,i(r)),13==e.keyCode&&(e.preventDefault(),n>-1&&r&&r[n].click())}))},delayedSearch:function(t,e){var r=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){r.autocomplete(t,e)}),500)}},mounted:function(){var t=this,e=document.getElementById("artist1"),r=document.getElementById("artist2");this.autocomplete(e,0),this.autocomplete(r,1),document.getElementById("searchButton").style.display="inline",document.getElementById("artistCount").style.display="none",e.value="",r.value="",e.disabled=!1,r.disabled=!1,document.getElementById("artistCount").getElementsByTagName("span")[0].innerHTML="",k.a.getToken().then((function(e){return t.token=e}))}};r("f8c0");x.render=j;var S=x,A=Object(n["o"])("data-v-a6641316");Object(n["j"])("data-v-a6641316");var N={key:0,id:"results"},T={key:0},E={class:"fadeIn"},B={class:"row text-center"},C={class:"row artist-text"},P=Object(n["f"])(" and "),q=Object(n["g"])("br",null,null,-1),R=Object(n["f"])(" Appear on "),D=Object(n["f"])(" together."),L={key:1},M={class:"fadeIn"},_=Object(n["g"])("h2",null,[Object(n["g"])("strong",null,"Infinity")],-1),$=Object(n["g"])("p",{class:"msg fadeIn"},"This is most likely because one of the artists has not collaborated with anybody (yet).",-1),z=Object(n["g"])("p",{class:"msg fadeIn"},"Furthermore, bands do not list each member as artists.",-1),F=Object(n["g"])("p",{class:"msg fadeIn"},"For example, Paul McCartney and Ringo Starr were both members of the Beatles, but both have few solo projects with other artists.",-1);Object(n["i"])();var U=A((function(t,e,r,a,s,i){return Object(n["h"])(),Object(n["c"])("div",null,[t.$props.results.length?(Object(n["h"])(),Object(n["c"])("div",N,[t.$props.results[0].song?(Object(n["h"])(),Object(n["c"])("div",T,[Object(n["g"])("div",E,[Object(n["g"])("h4",null,Object(n["m"])(i.overview),1),Object(n["g"])("h2",null,[Object(n["g"])("strong",null,Object(n["m"])(t.$props.results.length),1)])]),(Object(n["h"])(!0),Object(n["c"])(n["a"],null,Object(n["k"])(t.$props.results,(function(t){return Object(n["h"])(),Object(n["c"])("div",{key:t.song.songId,class:"fadeIn"},[Object(n["g"])("div",B,[Object(n["g"])("img",{src:i.artistPicture(t.srcArtist),class:"src-artist artist"},null,8,["src"]),Object(n["g"])("img",{src:i.artistPicture(t.dstArtist),class:"dst-artist artist"},null,8,["src"])]),Object(n["g"])("div",C,[Object(n["g"])("p",null,[Object(n["g"])("strong",null,Object(n["m"])(t.srcArtist.artistName),1),P,Object(n["g"])("strong",null,Object(n["m"])(t.dstArtist.artistName),1),q,R,Object(n["g"])("strong",null,'"'+Object(n["m"])(t.song.songName)+'"',1),D])]),Object(n["g"])("iframe",{src:i.embedUrl(t.song.songId),width:"300",height:"80",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"},null,8,["src"])])})),128)),Object(n["g"])("button",{class:"btn btn-danger fadeIn",onClick:e[1]||(e[1]=function(t){return i.toggleSearch(!0)})},"Try with other artists")])):1===r.results.length?(Object(n["h"])(),Object(n["c"])("div",L,[Object(n["g"])("h4",M,"There is no link between "+Object(n["m"])(r.results[0].srcArtist.artistName)+" and "+Object(n["m"])(r.results[0].dstArtist.artistName)+". Their Spotify Distance is ",1),_,$,z,F,Object(n["g"])("button",{class:"btn btn-danger fadeIn",onClick:e[2]||(e[2]=function(t){return i.toggleSearch(!0)})},"Try again with other artists")])):Object(n["d"])("",!0)])):Object(n["d"])("",!0)])})),Y=(r("99af"),{name:"result",props:["results"],data:function(){return{defaultAvatar:r("cb15")}},computed:{overview:function(){return"The Spotify Distance between ".concat(this.$props.results[0].srcArtist.artistName," and ").concat(this.$props.results[this.$props.results.length-1].dstArtist.artistName," is")}},methods:{artistPicture:function(t){return Object(w["getOr"])(this.defaultAvatar,"artistPicture.url",t)},embedUrl:function(t){return"https://open.spotify.com/embed/track/".concat(t)},toggleSearch:function(t){this.$emit("toggle-search",t)}},updated:function(){for(var t=document.getElementsByClassName("fadeIn"),e=function(e){var r=t[e];setTimeout((function(){r.classList.add("fadeIn-active")}),1e3*e)},r=0;r<t.length;r++)e(r)}});r("196f");Y.render=U,Y.__scopeId="data-v-a6641316";var H=Y,W={name:"App",components:{Search:S,Result:H},data:function(){return{isSearching:!0,results:[]}},methods:{toggleSearch:function(t){this.isSearching=t},getResults:function(t){this.results=t}}};r("675c");W.render=u;var Z=W;r("4989"),r("ab8b");Object(n["b"])(Z).mount("#app")},"5a6c":function(t,e,r){r("99af"),r("a15b"),r("d81d"),r("fb6a"),r("b0c0"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("96cf");var n=r("c973"),a=r("970b"),s=r("5bc3"),i=r("bc3a"),c=r("b383"),o=r("612d"),u=o.map,l=o.pipe,d=o.get,p=o.flatten,h=o.uniqBy,f=o.remove,m=o.assign;function g(t,e){return new Promise((function(r){setTimeout(r.bind(null,e),t)}))}var b=function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,t),this.elements=e}return s(t,[{key:"enqueue",value:function(t){return this.elements.push(t)}},{key:"dequeue",value:function(){return this.elements.shift()}},{key:"isEmpty",value:function(){return 0==this.elements.length}},{key:"length",value:function(){return this.elements.length}},{key:"fetch",value:function(t){for(var e=0;e<this.elements.length;e++)if(this.elements[e].artist.artistId==t)return this.elements[e].path;return null}}]),t}();function y(){return v.apply(this,arguments)}function v(){return v=n(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={grant_type:"client_credentials"},r={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic NDE3OThmMDVmZjY4NDU5ODg1YWFmMzUyNDgyNDE4NTU6NDEzYThlZWE1M2FkNGQ0ZmI2MThiYTIxZGUwNzc0YWE="}},t.next=4,i.post("https://accounts.spotify.com/api/token",c.stringify(e),r);case 4:return n=t.sent,t.abrupt("return",n.data.access_token);case 6:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function j(t,e){var r={headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},params:{q:t,type:"artist",limit:7}};return i.get("https://api.spotify.com/v1/search",r).then((function(t){return t.data.artists.items.map((function(t){return{artistId:t.id,artistName:t.name,artistPicture:t.images[0]}}))})).catch((function(r){var n=parseInt(r.response.headers["retry-after"]);return g(1e3*n).then((function(){return j(t,e)}))}))}function O(t,e){var r={headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}};return i.get("https://api.spotify.com/v1/artists/".concat(t),r).then((function(t){return{artistName:t.data.name,artistId:t.data.id,artistPicture:t.data.images[0]}})).catch((function(r){var n=parseInt(r.response.headers["retry-after"]);return g(1e3*n).then((function(){return O(t,e)}))}))}function I(t,e){var r={headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},params:{include_groups:"album,single,appears_on,compilation",market:"ES",limit:50}};return i.get("https://api.spotify.com/v1/artists/".concat(t,"/albums"),r).then((function(t){return l(d("data.items"),u((function(t){return t.id})))(t)})).catch((function(r){var n=parseInt(r.response.headers["retry-after"]);return g(1e3*n).then((function(){return I(t,e)}))}))}function k(t,e,r){var n={headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},params:{ids:e}};return i.get("https://api.spotify.com/v1/albums/",n).then((function(e){return l(d("data.albums"),u((function(t){return t.tracks.items})),p,f((function(e){for(var r=0;r<e.artists.length;r++)if(e.artists[r].id==t)return!1;return!0})),u((function(t){var e=t.artists,r=t.name,n=t.id;return e.map((function(t){return m({songName:r,songId:n},t)}))})),p,u((function(t){return{artistName:t.name,artistId:t.id,songName:t.songName,songId:t.songId}})),h((function(t){return t.artistName})))(e)})).catch((function(n){var a=parseInt(n.response.headers["retry-after"]);return g(1e3*a).then((function(){return k(t,e,r)}))}))}function w(t,e){return I(t,e).then((function(r){for(var n=r.length,a=[],s=0;s<n;s+=20)a.push(k(t,r.slice(s,s+20).join(),e));return a})).then((function(t){return Promise.all(t)})).then(p).then(f((function(e){return e.artistId==t})))}function x(t,e,r){return S.apply(this,arguments)}function S(){return S=n(regeneratorRuntime.mark((function t(e,r,n){var a,s,i,c,o,u,l,d,p,h,f,g,y,v,j,O,I;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=0,s=new b,i=new Set([e.artistId]),s.enqueue({artist:e,path:[e]}),c=new b,o=new Set([r.artistId]),c.enqueue({artist:r,path:[r]}),u=document.getElementById("artistCount").getElementsByTagName("span")[0];case 8:if(s.isEmpty()||c.isEmpty()){t.next=54;break}if(s.isEmpty()){t.next=30;break}if(l=s.dequeue(),l.artist.artistId!=r.artistId&&!c.fetch(l.artist.artistId)){t.next=13;break}return t.abrupt("return",l.path.concat(c.fetch(l.artist.artistId)));case 13:return t.next=15,w(l.artist.artistId,n);case 15:d=t.sent,p=d.length,h=0;case 18:if(!(h<p)){t.next=30;break}if(a+=1,a%500==0&&(u.innerHTML="Scanned ".concat(a," artists")),f=d[h],f.artistId!=r.artistId){t.next=26;break}return t.abrupt("return",l.path.concat(f).concat([r]));case 26:i.has(f.artistId)||(i.add(f.artistId),s.enqueue({artist:f,path:l.path.concat(f)}));case 27:h++,t.next=18;break;case 30:if(c.isEmpty()){t.next=52;break}if(g=c.dequeue(),g.artist.artistId!=e.artistId&&!s.fetch(g.artist.artistId)){t.next=34;break}return t.abrupt("return",s.fetch(g.artist.artistId).concat(g.path));case 34:return t.next=36,w(g.artist.artistId,n);case 36:y=t.sent,v=y.length,j=0;case 39:if(!(j<v)){t.next=52;break}if(a+=1,a%500==0&&(u.innerHTML="Scanned ".concat(a," artists")),O=y[j],O.artistId!=e.artistId){t.next=48;break}return O=m(O,{artistName:g.artist.artistName,artistId:g.artist.artistId}),t.abrupt("return",[e].concat([O].concat(g.path)));case 48:o.has(O.artistId)||(o.add(O.artistId),I=m(O,{artistName:g.artist.artistName,artistId:g.artist.artistId}),c.enqueue({artist:O,path:[I].concat(g.path)}));case 49:j++,t.next=39;break;case 52:t.next=8;break;case 54:return t.abrupt("return",null);case 55:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}t.exports={getArtist:O,getToken:y,BDS:x,searchArtist:j}},"675c":function(t,e,r){"use strict";r("5661")},a163:function(t,e,r){t.exports=r.p+"img/blank.f9848a75.png"},cb15:function(t,e,r){t.exports=r.p+"img/default-avatar.5097b024.png"},e5a3:function(t,e,r){},f8c0:function(t,e,r){"use strict";r("e5a3")}});
//# sourceMappingURL=app.05314ca1.js.map